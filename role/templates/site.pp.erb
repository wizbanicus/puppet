# created by puppet
# groups are assigned roles, users and other parameters which are used
# by this template to create the manifest
# If you decide to edit this file you will need to remove server
# from /etc/puppet/puppet.conf otherwise it will be over written
# the next time puppet is run.
#
<% @sitesetup.each do |hg| -%>
#
# <%= hg['hostgroup'] %>
<% hg['hosts'].each do |hst| -%>
node '<%= hst %>' {
  class { '::role::<%= hg['role'] -%>':
<% if hg['params'] -%> 
<% hg['params'].each do |key, value| -%>
    <%= key %> => "<%= value %>", 
<% end -%>
<% end -%>
  }   
}
<% end -%> 
<% end -%>
